<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>http报文结构是怎样的? | Vic的博客</title>
    <meta name="description" content="Vic,preson,日常开发记录,语言准备,Edmonton">
    <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="icon" href="./images/logo.gif">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/blog/assets/css/0.styles.2d961559.css" as="style"><link rel="preload" href="/blog/assets/js/app.13892e50.js" as="script"><link rel="preload" href="/blog/assets/js/56.0f49028f.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.b9735447.js"><link rel="prefetch" href="/blog/assets/js/11.0d6f5dc9.js"><link rel="prefetch" href="/blog/assets/js/12.e4d845cf.js"><link rel="prefetch" href="/blog/assets/js/13.712197c9.js"><link rel="prefetch" href="/blog/assets/js/14.b14e6c26.js"><link rel="prefetch" href="/blog/assets/js/15.bda3ed3b.js"><link rel="prefetch" href="/blog/assets/js/16.c2cc75dd.js"><link rel="prefetch" href="/blog/assets/js/17.abe296f5.js"><link rel="prefetch" href="/blog/assets/js/18.a2542d1a.js"><link rel="prefetch" href="/blog/assets/js/19.b1235c9b.js"><link rel="prefetch" href="/blog/assets/js/2.51a4babd.js"><link rel="prefetch" href="/blog/assets/js/20.4282b08d.js"><link rel="prefetch" href="/blog/assets/js/21.ef90e696.js"><link rel="prefetch" href="/blog/assets/js/22.4b9752d2.js"><link rel="prefetch" href="/blog/assets/js/23.7965b2e8.js"><link rel="prefetch" href="/blog/assets/js/24.7144c9af.js"><link rel="prefetch" href="/blog/assets/js/25.346cb919.js"><link rel="prefetch" href="/blog/assets/js/26.b56ede3d.js"><link rel="prefetch" href="/blog/assets/js/27.48d371f7.js"><link rel="prefetch" href="/blog/assets/js/28.3e09139b.js"><link rel="prefetch" href="/blog/assets/js/29.1aa5a3c0.js"><link rel="prefetch" href="/blog/assets/js/3.6537c304.js"><link rel="prefetch" href="/blog/assets/js/30.b267c7a0.js"><link rel="prefetch" href="/blog/assets/js/31.9c5de5f0.js"><link rel="prefetch" href="/blog/assets/js/32.956deabd.js"><link rel="prefetch" href="/blog/assets/js/33.9113e4c5.js"><link rel="prefetch" href="/blog/assets/js/34.b351426b.js"><link rel="prefetch" href="/blog/assets/js/35.4c7963f5.js"><link rel="prefetch" href="/blog/assets/js/36.c4ffc5cf.js"><link rel="prefetch" href="/blog/assets/js/37.aadfeccc.js"><link rel="prefetch" href="/blog/assets/js/38.ff81dbec.js"><link rel="prefetch" href="/blog/assets/js/39.d0f4152f.js"><link rel="prefetch" href="/blog/assets/js/4.2921848a.js"><link rel="prefetch" href="/blog/assets/js/40.022ae3a6.js"><link rel="prefetch" href="/blog/assets/js/41.25d70280.js"><link rel="prefetch" href="/blog/assets/js/42.3aa133aa.js"><link rel="prefetch" href="/blog/assets/js/43.25b92b3a.js"><link rel="prefetch" href="/blog/assets/js/44.27d9059e.js"><link rel="prefetch" href="/blog/assets/js/45.2da90f94.js"><link rel="prefetch" href="/blog/assets/js/46.13b2b1b8.js"><link rel="prefetch" href="/blog/assets/js/47.5b5d9388.js"><link rel="prefetch" href="/blog/assets/js/48.8a5dcf3e.js"><link rel="prefetch" href="/blog/assets/js/49.58b0bfdd.js"><link rel="prefetch" href="/blog/assets/js/5.db4be22f.js"><link rel="prefetch" href="/blog/assets/js/50.393cc386.js"><link rel="prefetch" href="/blog/assets/js/51.3df91732.js"><link rel="prefetch" href="/blog/assets/js/52.8784d899.js"><link rel="prefetch" href="/blog/assets/js/53.12b9e9a7.js"><link rel="prefetch" href="/blog/assets/js/54.fa254d1d.js"><link rel="prefetch" href="/blog/assets/js/55.ff70833f.js"><link rel="prefetch" href="/blog/assets/js/57.1059462c.js"><link rel="prefetch" href="/blog/assets/js/58.4128750e.js"><link rel="prefetch" href="/blog/assets/js/59.b0325ec7.js"><link rel="prefetch" href="/blog/assets/js/6.52af3c62.js"><link rel="prefetch" href="/blog/assets/js/60.0b9439a1.js"><link rel="prefetch" href="/blog/assets/js/61.2c5b15a1.js"><link rel="prefetch" href="/blog/assets/js/62.6eb1a621.js"><link rel="prefetch" href="/blog/assets/js/63.da11ee8f.js"><link rel="prefetch" href="/blog/assets/js/64.849a2525.js"><link rel="prefetch" href="/blog/assets/js/65.0ee0faaf.js"><link rel="prefetch" href="/blog/assets/js/66.cb34d58f.js"><link rel="prefetch" href="/blog/assets/js/67.d54b422a.js"><link rel="prefetch" href="/blog/assets/js/68.7d269019.js"><link rel="prefetch" href="/blog/assets/js/69.84da84e7.js"><link rel="prefetch" href="/blog/assets/js/7.78906fc9.js"><link rel="prefetch" href="/blog/assets/js/70.2b9bfcbe.js"><link rel="prefetch" href="/blog/assets/js/71.406b74b3.js"><link rel="prefetch" href="/blog/assets/js/72.480ff203.js"><link rel="prefetch" href="/blog/assets/js/73.dbbac51a.js"><link rel="prefetch" href="/blog/assets/js/74.f833cba4.js"><link rel="prefetch" href="/blog/assets/js/75.afd6b113.js"><link rel="prefetch" href="/blog/assets/js/76.43da6b21.js"><link rel="prefetch" href="/blog/assets/js/77.513b6b14.js"><link rel="prefetch" href="/blog/assets/js/78.2ac7f15b.js"><link rel="prefetch" href="/blog/assets/js/79.6d81e646.js"><link rel="prefetch" href="/blog/assets/js/8.7f11c8af.js"><link rel="prefetch" href="/blog/assets/js/80.228826e4.js"><link rel="prefetch" href="/blog/assets/js/81.a08895c6.js"><link rel="prefetch" href="/blog/assets/js/82.ac414c3c.js"><link rel="prefetch" href="/blog/assets/js/83.49a71d38.js"><link rel="prefetch" href="/blog/assets/js/84.a481e438.js"><link rel="prefetch" href="/blog/assets/js/85.8d623689.js"><link rel="prefetch" href="/blog/assets/js/86.994129b9.js"><link rel="prefetch" href="/blog/assets/js/87.87c6db43.js"><link rel="prefetch" href="/blog/assets/js/88.5689a53a.js"><link rel="prefetch" href="/blog/assets/js/89.e7428311.js"><link rel="prefetch" href="/blog/assets/js/9.ef6f5b3b.js"><link rel="prefetch" href="/blog/assets/js/90.497d587a.js"><link rel="prefetch" href="/blog/assets/js/91.dee61449.js"><link rel="prefetch" href="/blog/assets/js/92.7351c800.js"><link rel="prefetch" href="/blog/assets/js/93.aa08fafd.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.2d961559.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Vic的博客</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">主页</a></div><div class="nav-item"><a href="/blog/nodeJS/koa.html" class="nav-link">Node.js</a></div><div class="nav-item"><a href="/blog/ui/sass.html" class="nav-link">UI</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">javascript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/javascript/basic/array.html" class="nav-link">常用功能记录</a></li><li class="dropdown-item"><!----> <a href="/blog/javascript/upper/eventBus.html" class="nav-link">js进阶</a></li><li class="dropdown-item"><!----> <a href="/blog/javascript/algorithm/1.html" class="nav-link">常用算法</a></li><li class="dropdown-item"><!----> <a href="/blog/javascript/extend/code.html" class="nav-link">拓展阅读</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">source Code</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/source/vue/compiler.html" class="nav-link">Vue.js</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">主页</a></div><div class="nav-item"><a href="/blog/nodeJS/koa.html" class="nav-link">Node.js</a></div><div class="nav-item"><a href="/blog/ui/sass.html" class="nav-link">UI</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">javascript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/javascript/basic/array.html" class="nav-link">常用功能记录</a></li><li class="dropdown-item"><!----> <a href="/blog/javascript/upper/eventBus.html" class="nav-link">js进阶</a></li><li class="dropdown-item"><!----> <a href="/blog/javascript/algorithm/1.html" class="nav-link">常用算法</a></li><li class="dropdown-item"><!----> <a href="/blog/javascript/extend/code.html" class="nav-link">拓展阅读</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">source Code</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/source/vue/compiler.html" class="nav-link">Vue.js</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/javascript/extend/code.html" class="sidebar-link">到底如何写一个优雅的函数？</a></li><li><a href="/blog/javascript/extend/jsonStringify.html" class="sidebar-link">Javascript中JSON隐藏的特性</a></li><li><a href="/blog/javascript/extend/ES2016.html" class="sidebar-link">ECMAScript历代版本特性 - ES7(2016)</a></li><li><a href="/blog/javascript/extend/ES2017.html" class="sidebar-link">ECMAScript历代版本特性 - ES8(2017)</a></li><li><a href="/blog/javascript/extend/ES2018.html" class="sidebar-link">ECMAScript历代版本特性 - ES9(2018)</a></li><li><a href="/blog/javascript/extend/ES2019.html" class="sidebar-link">ECMAScript历代版本特性 - ES10(2019)</a></li><li><a href="/blog/javascript/extend/ES2020.html" class="sidebar-link">ECMAScript历代版本特性 - ES11(2020)</a></li><li><a href="/blog/javascript/extend/ES2021.html" class="sidebar-link">ECMAScript历代版本特性 - ES12(2021)</a></li><li><a href="/blog/javascript/extend/ES2022.html" class="sidebar-link">ECMAScript历代版本特性 - ES13(2022)</a></li><li><a href="/blog/javascript/extend/fetch.html" class="sidebar-link">Fetch</a></li><li><a href="/blog/javascript/extend/memory.html" class="sidebar-link">JS中的内存管理</a></li><li><a href="/blog/javascript/extend/monitoring.html" class="sidebar-link">前端监控</a></li><li><a href="/blog/javascript/extend/http.html" aria-current="page" class="active sidebar-link">http报文结构是怎样的?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/javascript/extend/http.html#http报文结构是怎样的" class="sidebar-link">http报文结构是怎样的?</a></li><li class="sidebar-sub-header"><a href="/blog/javascript/extend/http.html#http报文类型" class="sidebar-link">http报文类型</a></li><li class="sidebar-sub-header"><a href="/blog/javascript/extend/http.html#http的请求方法" class="sidebar-link">http的请求方法</a></li><li class="sidebar-sub-header"><a href="/blog/javascript/extend/http.html#如何理解url" class="sidebar-link">如何理解URL?</a></li><li class="sidebar-sub-header"><a href="/blog/javascript/extend/http.html#http状态码理解" class="sidebar-link">http状态码理解</a></li><li class="sidebar-sub-header"><a href="/blog/javascript/extend/http.html#http的特点和缺点" class="sidebar-link">http的特点和缺点?</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><p>http知识体系</p> <h2 id="http报文结构是怎样的"><a href="#http报文结构是怎样的" class="header-anchor">#</a> http报文结构是怎样的?</h2> <p>起始行+头部+空行+实体
记忆小提示: 帽子+头部 + 脖子 + 脖子以下的身体 =整个http结构</p> <ul><li>general(起始行;包含请求报文和响应报文两种)
请求报文 : GET /Home HTTP/1.1 —请求方法 + 路径 + http版本
响应报文 : HTTP/1.1 200 OK –http版本 + 状态码 + 原因三部分组成</li></ul> <p>起始行中，每两个部分之间用空格隔开,最后一个部分应该接一个换行,严格遵守 ABNF语法规范</p> <ul><li><p>header(头部)
请求头和响应头其中的字段都是相当多的,牵扯到http非常多的特性,列举一些比较重要的:
字段名是否区分大小写
字段名不允许出现空格,不可以出现下划线
字段名后面必须紧接&quot;:&quot;</p></li> <li><p>空行
主要作用:区分头部和实体
问:在头部中间故意添加空行会怎么样?
答:空行后面的内容全部被视为实体.</p></li> <li><p>body(实体)
主要就是具体的数据，也就是body部分,请求报文对应<code>请求体</code>，响应报文对应<code>响应报文</code></p></li></ul> <h2 id="http报文类型"><a href="#http报文类型" class="header-anchor">#</a> http报文类型</h2> <p>主要分为<strong>请求报文</strong>和<strong>响应报文</strong></p> <h3 id="请求报文"><a href="#请求报文" class="header-anchor">#</a> 请求报文</h3> <p>请求行（起始行）（get,url,http协议版本）</p> <p>请求头(对客户端以及请求本身的描述信息)  常见的请求头(User-agent,Host(主机名),Content-Type，Cookie(每次都会将cookie发送到服务器上)）</p> <p>请求体:发送给服务器查询的信息；当方法是get时,body是空的.</p> <h3 id="响应报文"><a href="#响应报文" class="header-anchor">#</a> 响应报文</h3> <ul><li>响应行（起始行） （协议版本，状态码,消息）---content-type:text/html;charset=utf-8</li> <li>响应头 （对服务器以及响应本身的描述信息）</li> <li>响应体  (返回给客户端的具体数据)</li></ul> <h2 id="http的请求方法"><a href="#http的请求方法" class="header-anchor">#</a> http的请求方法</h2> <p>http/1.1规定以下方法(大写格式)：</p> <ul><li>GET:用来获取资源</li> <li>POST:提交数据,用于保存</li> <li>PUT：用于修改数据</li> <li>DElETE:用于删除数据</li> <li>CONNECT:建立链接隧道,用于代理服务器</li> <li>OPTIONS:列出可对资源实行的请求方法,用来跨域请求</li> <li>TRACE:追踪请求-响应的传输路径</li></ul> <h3 id="get和post的区别？"><a href="#get和post的区别？" class="header-anchor">#</a> get和post的区别？</h3> <ul><li>语义上：GET是获取,POST是提交传输数据</li> <li>get请求参数存放于请求行中,post请求参数存放于请求体中。(url地址栏输入的地址属于get方式),安全性post比get方式更好</li> <li>get请求数据不能超过2k,post没有上限。比如文件上传是只能用post方式</li> <li>get可以缓存,post没有缓存</li> <li>Tcp 部分,get请求会将请求报文一次性发出去,而post会分成两个tcp数据包,首先发送header部分,如果服务器响应100(continue),
然后发送body部分。火狐浏览器除外,它的post请求只发送一个tcp包</li></ul> <h2 id="如何理解url"><a href="#如何理解url" class="header-anchor">#</a> 如何理解URL?</h2> <p>他并不是我们常说的网址,网址指的是url,url实际包含了urn和url两部分,由于url过于普及 ，就默认将url是为url了</p> <h3 id="url的完整结构"><a href="#url的完整结构" class="header-anchor">#</a> url的完整结构</h3> <ul><li>scheme：//user:password@ host:port path ?query #fragment</li> <li>scheme 表示协议名,比如http,https,file,mongodb(数据库协议的一种)等等。后面必须和://连在一起</li> <li>user:password表示登录主机时的用户信息,不过很不安全,不常用也不推荐使用</li> <li>path 表示请求路径标记资源的所在位置</li> <li>query 表示查询的参数 在?符号之后的key=val形式，多个参数用&amp;隔开</li> <li>fragment 表示url所定位的资源内的一个锚点,可以根据这个锚点跳转到对应的位置</li></ul> <p>示例:http://localhost:9022/articels/view.html?id=5fbfccad8fcb2d1f2c953a8b</p> <p>http为sheme部分,</p> <p>localhost:9022为 host:part 部分,http的默认端口80,https默认端口为443,</p> <p>/articels/view.html 为 articels文件夹下的html文件</p> <p>id=5fbfccad8fcb2d1f2c953a8b表示查询id为。。。的参数</p> <h3 id="url编码"><a href="#url编码" class="header-anchor">#</a> url编码</h3> <p>编码机制:将所有的非非ASCII码字符和界定符转换为16进制字节值,然后在前面加%</p> <p>比如 空格被转换为%20</p> <h2 id="http状态码理解"><a href="#http状态码理解" class="header-anchor">#</a> http状态码理解</h2> <h3 id="状态码主要分类"><a href="#状态码主要分类" class="header-anchor">#</a> 状态码主要分类</h3> <ul><li>1xx:表示目前是系欸处理的中间状态,还需要后续操作</li> <li>2xx:表示成功状态</li> <li>3xx:表示重定向状态,资源位置发送变动,需要重新请求</li> <li>4xx:表示请求报文有误，主要是客户端的错误</li> <li>5xx:表示服务器端的错误</li></ul> <p>和htpp状态分类相似的ajax状态码–ajax.readyState</p> <p>0 － （未初始化）还没有调用send()方法</p> <p>1 － （载入）已调用send()方法，正在发送请求</p> <p>2 － （载入完成）send()方法执行完成，已经接收到全部响应内容</p> <p>3 － （交互）正在解析响应内容</p> <p>4 － （完成）响应内容解析完成，可以在客户端调用了</p> <h3 id="常见状态码"><a href="#常见状态码" class="header-anchor">#</a> 常见状态码</h3> <ul><li>101 Switching Protocols:在http升级为Socket是,如果服务器同意变更,就会发送状态码101</li> <li>200 OK:  表示成功的状态码,响应体body存有数据</li> <li>204 No Content: 含义和200相同，只是body没有数据</li> <li>206 Partial Content: 语义上是部分内容,使用场景为http分块下载和断点续传</li> <li>301 Moved Permanently:永久重定向</li> <li>302 Move Temporarily: 临时重定向</li> <li>304 Not Modified: 协商缓存命中会返回这个状态码</li> <li>400 Bad Request:</li> <li>403 Forbidden:不是请求报文出错,而是由于法律禁止,敏感信息等原因,导致服务器禁止访问,时客户端这边的错误</li> <li>404 Not Found:资源未找到。 表示没有在服务器找到响应的资源 比较常见</li> <li>500 Interal Server Error:只是提示服务器有错误,不能提示具体是什么错误</li> <li>502 Bad Getway:作为为网关或者代理工作的服务器尝试执行请求时,当前服务器自身正常,但是从上游服务器接收到无效的响应进而导致出错。</li> <li>503 Service Unavailable:表示服务器当前很忙,暂时无法响应服务</li></ul> <p>更多http状态码详情见 这里</p> <h2 id="http的特点和缺点"><a href="#http的特点和缺点" class="header-anchor">#</a> http的特点和缺点?</h2> <h3 id="特点"><a href="#特点" class="header-anchor">#</a> 特点:</h3> <ul><li><p>灵活可扩展。语义上自由,只是规定了基本格式,空格分隔单词,换行分隔字段,其余部分没有严格的语法限制.另一个就是传输形式的多样性,不仅可以传输文本,还可以传输图片,视频等数据</p></li> <li><p>可靠传输。 http基于TCP/IP,因此继承了这一特性.</p></li> <li><p>请求-应答模式。 也就是一发一收,有来有回。这个请求方和应答方不单单值客户端和服务器.如果某台服务器作为代理连连接后端的服务端,那么这台服务器也会扮演请求方的角色</p></li> <li><p>无状态。 这里的状态是指通信过程中上下文信息,而每次HTTP都是请求独立,无关的,默认不需要保留状态信息</p></li></ul> <h3 id="缺点"><a href="#缺点" class="header-anchor">#</a> 缺点:</h3> <ul><li>无状态 : 需要长连接的场景中,需要保留大量的上下文信息,以免传输大量重复的信息,而无状态的特点就会增加网络开销</li> <li>明文传输 : 即协议里面的报文(主要是头部)不使用二进制数据,而是文本形式</li> <li>队头阻塞 : http开启长链接时,共用一个TCP连接,同一时刻只能处理一个请求,如果当前请求耗时过长会导致其他的请求处于祖娥色状态</li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/javascript/extend/monitoring.html" class="prev">
          前端监控
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/blog/assets/js/app.13892e50.js" defer></script><script src="/blog/assets/js/56.0f49028f.js" defer></script>
  </body>
</html>
